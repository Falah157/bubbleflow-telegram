<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>☕ Cafe Order</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .item { border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 8px; }
        .order-btn { background: #0088cc; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>☕ Welcome to [Cafe Name]</h1>
    
    <div id="menu">
        <div class="item">
            <h3>Espresso - $3.50</h3>
            <button onclick="addToCart('Espresso', 3.50)">Add to Order</button>
        </div>
        <div class="item">
            <h3>Cappuccino - $4.50</h3>
            <button onclick="addToCart('Cappuccino', 4.50)">Add to Order</button>
        </div>
        <div class="item">
            <h3>Croissant - $2.80</h3>
            <button onclick="addToCart('Croissant', 2.80)">Add to Order</button>
        </div>
    </div>

    <div id="cart">
        <h2>Your Order</h2>
        <ul id="cart-items"></ul>
        <p>Total: $<span id="total">0.00</span></p>
        <button class="order-btn" onclick="placeOrder()">Place Order</button>
    </div>

    <script>
        let cart = [];
        let total = 0;
        let tg = window.Telegram.WebApp;

        tg.expand();
        tg.MainButton.setText("VIEW ORDER").show();

        function addToCart(item, price) {
            cart.push({item, price});
            total += price;
            updateCart();
        }

        function updateCart() {
            const cartList = document.getElementById('cart-items');
            cartList.innerHTML = '';
            cart.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `${item.item} - $${item.price}`;
                cartList.appendChild(li);
            });
            document.getElementById('total').textContent = total.toFixed(2);
            
            tg.MainButton.setText(`ORDER ($${total.toFixed(2)})`);
        }

        function placeOrder() {
            const orderSummary = cart.map(i => `${i.item}: $${i.price}`).join('\n');
            tg.sendData(JSON.stringify({
                order: cart,
                total: total,
                timestamp: new Date().toISOString()
            }));
            tg.showAlert('Order placed successfully!');
            cart = [];
            total = 0;
            updateCart();
        }
    </script>
</body>
</html>
